# Linux File System Hierarchy & Scenario-Based Practice

## Part 1: Linux File System Hierarchy 

`/`
- The top-level directory is the root filesystem and contains all of the files required to boot the operating system before other filesystems are mounted, as well as the files required to boot the other filesystems. After boot, all of the other filesystems are mounted at standard mount points as subdirectories of the root.
- All other directories branch off from here.
- I would use this to understand the full filesystem structure or locate mounted filesystems.
  
`/bin`
- Contains essential command binaries.
- Typical items: ls, cp
- I would use this to run core commands needed by the system.
  
 `/boot`	:
- Consists of the static bootloader, kernel executable, and files required to boot the Linux OS.

`/dev	`:
- Contains device files to facilitate access to every hardware device attached to the system.

 `/etc`	:
- Local system configuration files. Configuration files for installed applications may be saved here as well.
- Typical items: passwd, ssh/
- I would use this to configure services, users, and system settings.

`/home`	:
- Each user on the system has a subdirectory here for storage.
- Typical items: users like alice/, bob/
- I would use this to manage user files, permissions, or backups.

 `/lib	`:
- Shared library files that are required for system boot.

`/media`	:
- External removable media devices such as USB drives are mounted here.

`/mnt	`:
- Temporary mount point for regular filesystems.

 `/opt	`:
- Optional files such as third-party tools can be saved here.
- Keeps external applications isolated.
- Typical items: google/, custom-app/
- I would use this to install and manage third-party or custom applications.

`/root`	:
- The home directory for the root user.
- Separated from /home for security.
- Typical items: .bashrc, .ssh/
- I would use this for administrator-specific files and scripts.

 `/sbin`	:
- This directory contains executables used for system administration (binary system files).
- /sbin (System Binaries) holds critical binaries for booting, mounting, and system recovery (e.g., fsck, ifconfig).

`/tmp	:
- The operating system and many programs use this directory to store temporary files. This directory is generally cleared upon system boot and may be deleted at other times
  without any warning.
- I would use this for short-lived temporary storage.

`/usr`	:
- Contains executables, libraries, man files, etc.

 `/var & /var/log` :
- This directory contains variable data files such as log files, email in-boxes, web application related files, cron files, and more.
- Holds log files generated by the system and services.
- Typical items: syslog, auth.log
- I would use this to diagnose errors and investigate system or application issues.

______________________________________________________________________________________________________________________________________________________________________________

# Scenerio based Questions:
### Scenario 1: Service Not Starting
`A web application service called 'myapp' failed to start after a server reboot.
What commands would you run to diagnose the issue?
Write at least 4 commands in order.`
1. **First i will check whether the service is running or not??**
  - ` systemctl status myapp` : This command is used to check whether my appcn is running and its current status i.e Active or not.
2. **Will check what logs says?**
  - ` journalctl -u myapp -n 50` : Displays the logs regading myapp and print 50 lines.
3. **Whether it is enable to start on boot or not?**
  - ` systemctl is-enabled myapp` : Which print whether my appcn is enabled or not when we start or boot our syatem.
4. **List all the service present or check the specific one.**
  - ` systemctl list-units --type=service & systemctl list-units --type=service | gre myapp` : Displays the the services present in the system and the second command checks whether specific application is there or not.

### Scenario 2: High CPU Usage
`Your manager reports that the application server is slow. You SSH into the server. What commands would you run to identify which process is using high CPU?.`
1. **Command that shows live CPU usage??**
  - ` top` : This command shows process and their CPU usage along with PID,mem usage etc.
  -  `htop`: Visual ,Easier to read ,Per-core CPU usage ,Color-coded
            Sort by CPU , mem or anything using: F6
2. **which process is using high CPU?**
  - ` ps aux --sort=-%cpu | head -10` : to list all running processes sorted by CPU usage and identify the top CPU-consuming process and its PID.

### Scenario 3:  Finding Service Logs
`A developer asks: "Where are the logs for the 'docker' service?"
The service is managed by systemd.
What commands would you use?`
1. **Check status of service first??**
  - ` systemctl status docker` : This command shows whether docker service is active or not . If yes then proceed further.
2. **Command that shows logs for Docker?**
  - ` journalctl -u <service-name>` : displays the logs  for the service
   ##### View last 50 lines of logs
  - `journalctl -u docker -n 50`
   ##### Displays logs in real-time
   - `journalctl -u docker -f `
   - `-f` & `-n` : -f flag is to follow logs in real- time 
                   -n flag to limit the number of lines


### Scenario 4: File Permissions Issue
`A script at /home/user/backup.sh is not executing.
When you run it: ./backup.sh
You get: "Permission denied"
What commands would you use to fix this?`

**Command and steps that I follow to fix this is ..??**

**Step-1 :Check the current file permissions**

` ls -l /home/user/backup.sh `: will displays the permissions regarding that file.
Example-> -rw-r--r-- (if no 'x' = not executable file permission)

**Step-2 :Add executeable permissions if not present**

`chmod +x /home/user.....file-name`: It will give the permission to the file executable

**Step-3 :Verify the permission is given or not**

`ls -l /home/user/backup.sh` : prints like this 
output - -rwxr-xr-x (notice 'x' = executable)

**Step-4 :Run the file to check it**

`./backup.sh`
